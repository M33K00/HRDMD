<% if (user.hrrole === 'ADMIN') { %>
  <%- include('./layouts/header') -%>
<% } else { %>
  <%- include('./layouts/role1layout') -%>
<% } %>
<body class="startbody">
  <div class="start-container">
    <div class="startbar">
      <p class="startbar-title">City Hall of Bacoor :D</p>
      <a href="#" id="toggleSidebar" class="nav-link right-content">
      <img class="nav-img" src="../<%= user.image %>" />
    </a></div>
    <div class="row">
      <div class="col-md-4 hover-div-sp" >
        <a href="/document_tracker/<%= encodeURIComponent(user.hrrole) %>">
        <div class="card-start card border-primary mb-3 shadow startpage-font">
          <h3 class="card-header">Document Tracker</h3>
          <div class="card-body">
            <h6 class="card-subtitle text-muted">
              Track and manage documents effortlessly
            </h6>
          </div>
          <svg
            class="d-block user-select-none"
            width="100%"
            height="200"
            aria-label="Placeholder: File Icon"
            focusable="false"
            role="img"
            preserveAspectRatio="xMidYMid slice"
            viewBox="0 0 318 180"
            style="font-size: 1.125rem; text-anchor: middle"
          >
            <foreignObject width="100%" height="100%">
              <div class="svg-icon">
                <i
                  class="fa-solid fa-file startpage-icon"
                ></i>
              </div>
            </foreignObject>
          </svg>
          <div class="card-body">
            <p class="card-text"></p>
          </div>
        </a>
        </div>
      </div>
      <div class="col-md-4 hover-div-sp">
        <a href="/hris">
        <div class="card-start card border-primary mb-3 shadow startpage-font">
          <h3 class="card-header">HR Information System</h3>
          <div class="card-body">
            <h6 class="card-subtitle text-muted">
              Streamline HR tasks with the HRIS page
            </h6>
          </div>
          <svg
            class="d-block user-select-none"
            width="100%"
            height="200"
            aria-label="Placeholder: Image cap"
            focusable="false"
            role="img"
            preserveAspectRatio="xMidYMid slice"
            viewBox="0 0 318 180"
            style="font-size: 1.125rem; text-anchor: middle"
          >
            <foreignObject width="100%" height="100%">
              <div class="svg-icon">
                <i
                  class="fa-solid fa-fingerprint startpage-icon"
                ></i>
              </div>
            </foreignObject>
          </svg>
          <div class="card-body">
            <p class="card-text"></p>
          </div>
        </a>
        </div>
      </div>
      <div class="col-md-4 hover-div-sp">
        <a href="/manage_account/<%= encodeURIComponent(user.hrrole) %>/<%= encodeURIComponent(user.name) %>">
        <div class="card-start card border-primary mb-3 shadow startpage-font">
          <h3 class="card-header">Manage Account</h3>
          <div class="card-body">
            <% if (user.hrrole === 'ADMIN') { %>
              <h6 class="card-subtitle text-muted">
                Manage accounts and edit users
              </h6>
            <% } else { %>
              <h6 class="card-subtitle text-muted">
                Manage your account settings
              </h6>
            <% } %>
          </div>
          <svg
            class="d-block user-select-none"
            width="100%"
            height="200"
            aria-label="Placeholder: Image cap"
            focusable="false"
            role="img"
            preserveAspectRatio="xMidYMid slice"
            viewBox="0 0 318 180"
            style="font-size: 1.125rem; text-anchor: middle"
          >
            <foreignObject width="100%" height="100%">
              <div class="svg-icon">
                <i
                  class="fa-solid fa-user startpage-icon"
                ></i>
              </div>
            </foreignObject>
          </svg>
          <div class="card-body">
            <p class="card-text"></p>
          </div>
        </a>
        </div>
      </div>
    </div>
  </div>
  <div class="startbg-2">
    <img src="../images/lp2.png" alt="background" />
  </div>
  <div class="startbg-3">
    <img src="../images/lp3.png" alt="background" />
  </div>
</body>
<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-body">
    <div class="sidebar-image">
      <div class="profile-image"><img src="../<%= user.image %>" /></div>
      <div class="user-details">
        <a><%= user.name %></a>
        <a class="user-role"
          ><% if (user.hrrole === "ROLE 1") { %> Entry-level <% } else if
          (user.hrrole === "ROLE 2") { %> Individual Contributors <% } else if
          (user.hrrole === "ROLE 3") { %> HR Manager <% } else if (user.hrrole
          === "ROLE 4") { %> HR Director <% } else if (user.hrrole === "ADMIN")
          { %> ADMIN <% } %></a
        >
      </div>
    </div>
    <div class="sidebar-menu">
      <div class="sidebar-buttons">
        <ul>
          <li>
            <% if (user.hrrole === "ADMIN") { %>
              <a href="/view/<%= user._id %>"
              ><i class="fa-solid fa-gear"></i>Account Settings</a
            >
            <% } else { %>
              <a href="/editacc/<%= encodeURIComponent(user.name) %>"
              ><i class="fa-solid fa-gear"></i>Account Settings</a
            >
            <% } %>
          </li>
          <li>
            <a href="#"><i class="fa-regular fa-file"></i>HR File</a>
          </li>
          <li class="logout-button">
            <a href="/logout"
              ><i class="fa-solid fa-arrow-right-from-bracket"></i>Log Out</a
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="overlay" id="overlay"></div>
<script src="https://kit.fontawesome.com/64cf43ccc2.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleSidebar = document.getElementById("toggleSidebar");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");

    toggleSidebar.addEventListener("click", function (e) {
      e.preventDefault();
      sidebar.classList.toggle("active");
      overlay.classList.toggle("active");
    });

    overlay.addEventListener("click", function () {
      sidebar.classList.remove("active");
      overlay.classList.remove("active");
    });
  });
</script>